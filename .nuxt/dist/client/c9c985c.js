(window.webpackJsonp=window.webpackJsonp||[]).push([[17,3],{371:function(e,t,r){"use strict";t.a=function(e,t){var text="".concat(e," ").concat(t);return 1===e?text:text+"s"}},377:function(e,t,r){e.exports={}},378:function(e,t,r){"use strict";r.r(t);r(40);var n=r(371),o={props:{home:{type:Object,required:!0}},computed:{features:function(){return this.home.features.slice(0,3).join(", ")}},methods:{pluralize:n.a}},c=r(25),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("nuxt-img",{staticClass:"app-house-header",attrs:{provider:"cloudinary",height:"200",width:"360",src:e.home.images[0]}}),e._v(" "),r("div",{staticClass:"app-house-body"},[r("img",{staticClass:"app-fav",attrs:{src:"/images/icons/heart.svg"}}),e._v(" "),r("h2",[e._v(e._s(e.home.title))]),e._v(" "),r("div",{staticClass:"app-address"},[e._v("\n            "+e._s(e.home.location.address)+" "+e._s(e.home.location.city)+"\n            "+e._s(e.home.location.state)+"\n        ")]),e._v(" "),r("div",{staticClass:"app-amenities"},[r("p",[e._v("\n                "+e._s(e.pluralize(e.home.guests,"guest"))+",\n                "+e._s(e.pluralize(e.home.bedrooms,"bedroom"))+",\n                "+e._s(e.pluralize(e.home.beds,"bed"))+",\n                "+e._s(e.pluralize(e.home.bathrooms,"bath"))+"\n            ")]),e._v(" "),r("p",[e._v(e._s(e.features))])]),e._v(" "),r("div",{staticClass:"app-flex"},[r("div",{staticClass:"app-rating"},[e._v("\n                "+e._s(e.home.reviewValue)+" "),r("span",[e._v("("+e._s(e.home.reviewCount)+")")])]),e._v(" "),r("div",{staticClass:"app-price"},[e._v("\n                $"+e._s(e.home.pricePerNight)+" "),r("span",[e._v("/ night")])])])])],1)}),[],!1,null,null,null);t.default=component.exports},388:function(e,t,r){"use strict";r(377)},392:function(e,t,r){"use strict";r.r(t);var n=r(3),o=r(2);r(31),r(13),r(9),r(12),r(19),r(20),r(18);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={head:function(){return{title:"Homes Around ".concat(this.label)}},beforeRouteUpdate:function(e,t,r){var n=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.$dataApi.getHomesByLocation(e.query.lat,e.query.lng,e.query.start,e.query.end);case 2:data=t.sent,n.homes=data.json.hits,n.label=e.query.label,n.lat=e.query.lat,n.lng=e.query.lng,n.updateMap(),r();case 9:case"end":return t.stop()}}),t)})))()},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.query,n=e.$dataApi,t.next=3,n.getHomesByLocation(r.lat,r.lng,r.start,r.end);case 3:return data=t.sent,t.abrupt("return",{label:r.label,lat:r.lat,lng:r.lng,homes:data.json.hits});case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){this.updateMap()},methods:{updateMap:function(){this.$maps.showMap(this.$refs.map,this.lat,this.lng,this.getHomeMarkers())},getHomeMarkers:function(){return console.log("this.homes: ",this.homes),0===this.homes.length?null:this.homes.map((function(e){return l(l({},e._geoloc),{},{pricePerNight:e.pricePerNight,id:e.objectID})}))},highlightMarker:function(e,t){var r,n;null===(r=document.getElementsByClassName("home-".concat(e))[0])||void 0===r||null===(n=r.classList)||void 0===n||n.toggle("marker-highlight",t)}}},m=(r(388),r(25)),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-search-results-page"},[r("div",{staticClass:"app-search-results"},[r("div",{staticClass:"app-search-results-listing"},[r("h2",{staticClass:"app-title"},[e._v("Stays in "+e._s(e.label))]),e._v(" "),e._l(e.homes,(function(t){return r("nuxt-link",{key:t.objectID,attrs:{to:"/home/"+t.objectID}},[r("HomeRow",{staticClass:"app-house",attrs:{home:t},nativeOn:{mouseover:function(r){return e.highlightMarker(t.objectID,!0)},mouseout:function(r){return e.highlightMarker(t.objectID,!1)}}})],1)}))],2),e._v(" "),r("div",{staticClass:"app-search-results-map"},[r("div",{ref:"map",staticClass:"app-map"})])])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{HomeRow:r(378).default})}}]);